"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}new function(e){var t=document.querySelector(e),r=t.querySelector("[data-list]").children;t.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("[data-trigger]"),n=e.target.closest("[data-cross]"),a=e.target.closest(".accordeon__item");if(n&&a.classList.remove("accordeon__item-active"),t){var i=t.parentNode;if(i.classList.contains("accordeon__item-active"))i.classList.remove("accordeon__item-active");else{for(var o=0;o<r.length;o++)r[o].classList.remove("accordeon__item-active");i.classList.add("accordeon__item-active")}}})}("#accord"),function(){var e;ymaps.ready(function(){e=new ymaps.Map("map",{center:[52.084031,23.704438],zoom:13,controls:[]});var t=new ymaps.GeoObjectCollection({},{draggable:!1,iconLayout:"default#image",iconImageHref:"img/marker.svg",iconImageSize:[46,57],iconImageOffset:[-35,-52]});[[52.088659,23.70422],[52.086585,23.685896],[52.090572,23.696276],[52.076615,23.723049]].forEach(function(e){t.add(new ymaps.Placemark(e))}),e.geoObjects.add(t),e.behaviors.disable("scrollZoom")})}(),$(".form").submit(function(e){e.preventDefault();var t,n=$(e.currentTarget),a=n.find('[name="name"]'),i=n.find('[name="phone"]'),o=n.find('[name="comment"]'),r=n.find('[name="to"]'),l=$("#modal").find(".modal__content");l.removeClass("error-modal"),(t=n,[a,i,o,r].forEach(function(e){e.removeClass("input-error"),""===e.val().trim()&&e.addClass("input-error")}),0===t.find(".input-error").length)&&$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:a.val(),phone:i.val(),comment:o.val(),to:r.val()},success:function(e){l.text(e.message),$.fancybox.open({src:"#modal",type:"inline"})},error:function(e){var t=e.responseJSON.message;l.text(t),l.addClass("error-modal"),$.fancybox.open({src:"#modal",type:"inline"})}})}),$(".js-close-modal").click(function(e){e.preventDefault(),$.fancybox.close()}),function(){function o(e){var t=e.find(".accordeon__item"),n=e.find(".accordeon__wrap");t.removeClass("active"),n.width(0)}function r(e){var t,n,a,i,o,r,l,c,s=e.find(".accordeon__wrap"),u=(t=e,n=0,a=$(window).width(),i=t.closest(".accordeon__list").find(".accordeon__active"),o=i.width()*i.length,r=t.find(".accordeon__text"),l=parseInt(r.css("padding-left")),c=parseInt(r.css("padding-right")),{container:n=window.matchMedia("(max-width: 768px)").matches?a-o:530,textContainer:n-c-l}),d=e.find(".accordeon__text");e.addClass("active"),s.width(u.container),d.width(u.textContainer)}$(".accordeon__active").on("click",function(e){e.preventDefault();var t=$(e.currentTarget),n=t.closest(".accordeon__item"),a=n.hasClass("active"),i=t.closest(".accordeon__list");a?o(i):(o(i),r(n))}),$(".accordeon__close").on("click",function(e){e.preventDefault(),o($(".accordeon__item"))})}(),function(){var o=$(".section"),r=$(".maincontent"),l=$(".menu-fixed"),c=l.find(".menu-fixed__item"),e=new MobileDetect(window.navigator.userAgent).mobile();o.first().addClass("active-ops");function s(e,t,n){e.eq(t).addClass(n).siblings().removeClass(n)}function a(e){var t,n,a,i=(t=-100*e,isNaN(t)?0:t);n=e,a="menu-fixed--shadowed","black"===o.eq(n).attr("data-sidemenu-theme")?l.addClass(a):l.removeClass(a),r.css({transform:"translateY(".concat(i,"%)")}),s(o,e,"active-ops"),setTimeout(function(){s(c,e,"menu-fixed__item--active")},1500)}function i(){var e=o.filter(".active-ops"),t=e.next(),n=e.prev();return{next:function(){t.length&&a(t.index())},prev:function(){n.length&&a(n.index())}}}$(window).on("wheel",function(e){var t=e.originalEvent.deltaY,n=i();0<t&&n.next(),t<0&&n.prev()}),$(window).on("keydown",function(e){var t=e.target.tagName.toLowerCase(),n="input"==t||"textarea"==t,a=i();if(!n)switch(e.keyCode){case 38:a.prev();break;case 40:a.next()}}),$(".wrapper").on("touchmove",function(e){return e.preventDefault()}),$("[ data-scroll-to]").click(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-scroll-to"),n=$("[ data-section-id=".concat(t,"]"));a(n.index())}),e&&$("body").swipe({swipe:function(e,t){i()["down"==t?"prev":"up"==t?"next":""]()}})}(),function(){var e=document.querySelector(".hamburger"),t=document.querySelector(".overlay__close"),n=document.querySelector(".overlay"),a=document.querySelector("body");e.addEventListener("click",function(){n.classList.add("overlay-open"),a.classList.add("lock")}),t.addEventListener("click",function(){n.classList.remove("overlay-open"),a.classList.remove("lock")}),n.addEventListener("click",function(){n.classList.remove("overlay-open"),a.classList.remove("lock")})}(),function(){var i,t=$(".player");$(".player__start").click(function(e){e.preventDefault(),t.hasClass("paused")?i.pauseVideo():i.playVideo()}),$(".player__playback").click(function(e){var t=$(e.currentTarget),n=e.originalEvent.layerX/t.width()*100,a=i.getDuration()/100*n;$(".player__playback-botton").css({left:"".concat(n,"%")}),i.seekTo(a)}),$(".player__splash").click(function(e){e.preventDefault(),i.playVideo()})}(),window.onload=function(){var e=document.getElementById("play"),t=document.getElementById("playy"),n=document.getElementById("volume-bar"),a=document.getElementById("seek-bar"),i=document.getElementById("mute"),o=document.getElementById("splash");e.addEventListener("click",function(){1==video.paused?(video.play(),t.classList.add("paused"),e.classList.add("active-play"),o.classList.add("splash_active")):(video.pause(),t.classList.remove("paused"),e.classList.remove("active-play"))}),t.addEventListener("click",function(){1==video.paused?(video.play(),t.classList.add("paused"),e.classList.add("active-play"),o.classList.add("splash_active")):(video.pause(),t.classList.remove("paused"),e.classList.remove("active-play"))}),n.addEventListener("change",function(){video.volume=n.value}),a.addEventListener("change",function(){var e=video.duration*(a.value/100);video.currentTime=e}),video.addEventListener("timeupdate",function(){var e=100/video.duration*video.currentTime;a.value=e}),a.addEventListener("mousedown",function(){video.pause()}),a.addEventListener("mouseup",function(){video.play()}),i.addEventListener("click",function(){0==video.muted?video.muted=!0:video.muted=!1})},$(".interective-avatar__link").click(function(e){e.preventDefault();var n,t=$(e.currentTarget),a=t.attr("data-open"),i=(n=a,$(".reviews-item").filter(function(e,t){return $(t).attr("data-link")==n})),o=t.closest(".interective-avatar");i.addClass("active").siblings().removeClass("active"),o.addClass("interective-avatar--active").siblings().removeClass("interective-avatar--active")}),function(){var t=$(".slider").bxSlider({pager:!1,controls:!1});$(".arrow-img--right").click(function(e){e.preventDefault(),t.goToNextSlide()}),$(".arrow-img--left").click(function(e){e.preventDefault(),t.goToPrevSlide()})}(),function(){function c(e){var t=e.find(".team__desc"),n=e.find(".team__person"),a=e.find(".triangle");n.removeClass("active"),t.height(0),a.removeClass("activ__triangle")}$(".team__link").on("click",function(e){e.preventDefault();var t,n,a,i,o,r=$(e.currentTarget),l=r.closest(".team");r.closest(".team__person").hasClass("active")?c(l):(c(l),n=(t=r).closest(".team__person"),a=n.find(".team__desc"),i=a.find(".team__desc-wrap").height(),o=t.find(".triangle"),n.addClass("active"),a.height(i),o.addClass("activ__triangle"))})}(),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(le){function a(e,h){function t(e){if(!(!0===G.data(Me+"_intouch")||0<le(e.target).closest(h.excludedElements,G).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=h.fallbackToMouseEvents){var n,a=t.touches,i=a?a[0]:t;return Z=Le,a?J=a.length:!1!==h.preventDefaultEvents&&e.preventDefault(),z=B=H=null,X=1,F=Q=Y=V=U=0,(o={})[ce]=D(ce),o[se]=D(se),o[ue]=D(ue),o[de]=D(de),W=o,E(),S(0,i),!a||J===h.fingers||h.fingers===Ee||w()?(ee=P(),2==J&&(S(1,a[1]),Y=Q=C(K[0].start,K[1].start)),(h.swipeStatus||h.pinchStatus)&&(n=m(t,Z))):n=!1,!1===n?(m(t,Z=$e),n):(h.hold&&(re=setTimeout(le.proxy(function(){G.trigger("hold",[t.target]),h.hold&&(n=h.hold.call(G,t,t.target))},this),h.longTapThreshold)),L(!0),null)}}var o}function n(e){var t,n,a,i,o,r,l,c,s,u,d,p,f,v=e.originalEvent?e.originalEvent:e;Z===ke||Z===$e||x()||(a=k((n=v.touches)?n[0]:v),te=P(),n&&(J=n.length),h.hold&&clearTimeout(re),Z=Se,2==J&&(0==Y?(S(1,n[1]),Y=Q=C(K[0].start,K[1].start)):(k(n[1]),Q=C(K[0].end,K[1].end),K[0].end,K[1].end,z=X<1?fe:pe),X=(Q/Y*1).toFixed(2),F=Math.abs(Y-Q)),J===h.fingers||h.fingers===Ee||!n||w()?(H=M(a.start,a.end),function(e,t){if(!1!==h.preventDefaultEvents)if(h.allowPageScroll===ve)e.preventDefault();else{var n=h.allowPageScroll===he;switch(t){case ce:(h.swipeLeft&&n||!n&&h.allowPageScroll!=_e)&&e.preventDefault();break;case se:(h.swipeRight&&n||!n&&h.allowPageScroll!=_e)&&e.preventDefault();break;case ue:(h.swipeUp&&n||!n&&h.allowPageScroll!=be)&&e.preventDefault();break;case de:(h.swipeDown&&n||!n&&h.allowPageScroll!=be)&&e.preventDefault()}}}(e,B=M(a.last,a.end)),p=a.start,f=a.end,U=Math.round(Math.sqrt(Math.pow(f.x-p.x,2)+Math.pow(f.y-p.y,2))),V=O(),d=U,(u=H)!=ve&&(d=Math.max(d,$(u)),W[u].distance=d),t=m(v,Z),h.triggerOnTouchEnd&&!h.triggerOnTouchLeave||(i=!0,h.triggerOnTouchLeave&&(o={left:(s=(c=le(c=this)).offset()).left,right:s.left+c.outerWidth(),top:s.top,bottom:s.top+c.outerHeight()},r=a.end,l=o,i=r.x>l.left&&r.x<l.right&&r.y>l.top&&r.y<l.bottom),!h.triggerOnTouchEnd&&i?Z=g(Se):h.triggerOnTouchLeave&&!i&&(Z=g(ke)),Z!=$e&&Z!=ke||m(v,Z))):m(v,Z=$e),!1===t&&m(v,Z=$e))}function a(e){var t,n=e.originalEvent?e.originalEvent:e,a=n.touches;if(a){if(a.length&&!x())return t=n,ne=P(),ae=t.touches.length+1,!0;if(a.length&&x())return!0}return x()&&(J=ae),te=P(),V=O(),s()||!c()?m(n,Z=$e):h.triggerOnTouchEnd||!1===h.triggerOnTouchEnd&&Z===Se?(!1!==h.preventDefaultEvents&&e.preventDefault(),m(n,Z=ke)):!h.triggerOnTouchEnd&&T()?l(n,Z=ke,we):Z===Se&&m(n,Z=$e),L(!1),null}function i(){Q=Y=ee=te=J=0,E(),L(!(X=1))}function o(e){var t=e.originalEvent?e.originalEvent:e;h.triggerOnTouchLeave&&m(t,Z=g(ke))}function r(){G.unbind(N,t),G.unbind(A,i),G.unbind(j,n),G.unbind(R,a),q&&G.unbind(q,o),L(!1)}function g(e){var t=e,n=u(),a=c(),i=s();return!n||i?t=$e:!a||e!=Se||h.triggerOnTouchEnd&&!h.triggerOnTouchLeave?!a&&e==ke&&h.triggerOnTouchLeave&&(t=$e):t=ke,t}function m(e,t){var n,a=e.touches;return(p()&&f()||f())&&(n=l(e,t,ge)),(d()&&w()||w())&&!1!==n&&(n=l(e,t,me)),b()&&_()&&!1!==n?n=l(e,t,ye):V>h.longTapThreshold&&U<xe&&h.longTap&&!1!==n?n=l(e,t,Te):1!==J&&De||!(isNaN(U)||U<h.threshold)||!T()||!1===n||(n=l(e,t,we)),t===$e&&i(),t===ke&&(a&&a.length||i()),n}function l(e,t,n){var a;if(n==ge){if(G.trigger("swipeStatus",[t,H||null,U||0,V||0,J,K,B]),h.swipeStatus&&!1===(a=h.swipeStatus.call(G,e,t,H||null,U||0,V||0,J,K,B)))return!1;if(t==ke&&p()){if(clearTimeout(oe),clearTimeout(re),G.trigger("swipe",[H,U,V,J,K,B]),h.swipe&&!1===(a=h.swipe.call(G,e,H,U,V,J,K,B)))return!1;switch(H){case ce:G.trigger("swipeLeft",[H,U,V,J,K,B]),h.swipeLeft&&(a=h.swipeLeft.call(G,e,H,U,V,J,K,B));break;case se:G.trigger("swipeRight",[H,U,V,J,K,B]),h.swipeRight&&(a=h.swipeRight.call(G,e,H,U,V,J,K,B));break;case ue:G.trigger("swipeUp",[H,U,V,J,K,B]),h.swipeUp&&(a=h.swipeUp.call(G,e,H,U,V,J,K,B));break;case de:G.trigger("swipeDown",[H,U,V,J,K,B]),h.swipeDown&&(a=h.swipeDown.call(G,e,H,U,V,J,K,B))}}}if(n==me){if(G.trigger("pinchStatus",[t,z||null,F||0,V||0,J,X,K]),h.pinchStatus&&!1===(a=h.pinchStatus.call(G,e,t,z||null,F||0,V||0,J,X,K)))return!1;if(t==ke&&d())switch(z){case pe:G.trigger("pinchIn",[z||null,F||0,V||0,J,X,K]),h.pinchIn&&(a=h.pinchIn.call(G,e,z||null,F||0,V||0,J,X,K));break;case fe:G.trigger("pinchOut",[z||null,F||0,V||0,J,X,K]),h.pinchOut&&(a=h.pinchOut.call(G,e,z||null,F||0,V||0,J,X,K))}}return n==we?t!==$e&&t!==ke||(clearTimeout(oe),clearTimeout(re),_()&&!b()?(ie=P(),oe=setTimeout(le.proxy(function(){ie=null,G.trigger("tap",[e.target]),h.tap&&(a=h.tap.call(G,e,e.target))},this),h.doubleTapThreshold)):(ie=null,G.trigger("tap",[e.target]),h.tap&&(a=h.tap.call(G,e,e.target)))):n==ye?t!==$e&&t!==ke||(clearTimeout(oe),clearTimeout(re),ie=null,G.trigger("doubletap",[e.target]),h.doubleTap&&(a=h.doubleTap.call(G,e,e.target))):n==Te&&(t!==$e&&t!==ke||(clearTimeout(oe),ie=null,G.trigger("longtap",[e.target]),h.longTap&&(a=h.longTap.call(G,e,e.target)))),a}function c(){var e=!0;return null!==h.threshold&&(e=U>=h.threshold),e}function s(){var e=!1;return null!==h.cancelThreshold&&null!==H&&(e=$(H)-U>=h.cancelThreshold),e}function u(){return!(h.maxTimeThreshold&&V>=h.maxTimeThreshold)}function d(){var e=v(),t=y(),n=null===h.pinchThreshold||F>=h.pinchThreshold;return e&&t&&n}function w(){return h.pinchStatus||h.pinchIn||h.pinchOut}function p(){var e=u(),t=c(),n=v(),a=y();return!s()&&a&&n&&t&&e}function f(){return h.swipe||h.swipeStatus||h.swipeLeft||h.swipeRight||h.swipeUp||h.swipeDown}function v(){return J===h.fingers||h.fingers===Ee||!De}function y(){return 0!==K[0].end.x}function T(){return h.tap}function _(){return!!h.doubleTap}function b(){if(null==ie)return!1;var e=P();return _()&&e-ie<=h.doubleTapThreshold}function E(){ae=ne=0}function x(){var e=!1;return ne&&P()-ne<=h.fingerReleaseThreshold&&(e=!0),e}function L(e){G&&(!0===e?(G.bind(j,n),G.bind(R,a),q&&G.bind(q,o)):(G.unbind(j,n,!1),G.unbind(R,a,!1),q&&G.unbind(q,o,!1)),G.data(Me+"_intouch",!0===e))}function S(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,K[e]=n}function k(e){var t=void 0!==e.identifier?e.identifier:0,n=K[t]||null;return null===n&&(n=S(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function $(e){if(W[e])return W[e].distance}function D(e){return{direction:e,distance:0}}function O(){return te-ee}function C(e,t){var n=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+a*a))}function M(e,t){if(a=t,(n=e).x==a.x&&n.y==a.y)return ve;var n,a,i,o,r,l,c,s,u=(o=t,r=(i=e).x-o.x,l=o.y-i.y,c=Math.atan2(l,r),(s=Math.round(180*c/Math.PI))<0&&(s=360-Math.abs(s)),s);return u<=45&&0<=u||u<=360&&315<=u?ce:135<=u&&u<=225?se:45<u&&u<135?de:ue}function P(){return(new Date).getTime()}var h=le.extend({},h),I=De||Ce||!h.fallbackToMouseEvents,N=I?Ce?Oe?"MSPointerDown":"pointerdown":"touchstart":"mousedown",j=I?Ce?Oe?"MSPointerMove":"pointermove":"touchmove":"mousemove",R=I?Ce?Oe?"MSPointerUp":"pointerup":"touchend":"mouseup",q=!I||Ce?"mouseleave":null,A=Ce?Oe?"MSPointerCancel":"pointercancel":"touchcancel",U=0,H=null,B=null,V=0,Y=0,Q=0,X=1,F=0,z=0,W=null,G=le(e),Z="start",J=0,K={},ee=0,te=0,ne=0,ae=0,ie=0,oe=null,re=null;try{G.bind(N,t),G.bind(A,i)}catch(e){le.error("events not supported "+N+","+A+" on jQuery.swipe")}this.enable=function(){return this.disable(),G.bind(N,t),G.bind(A,i),G},this.disable=function(){return r(),G},this.destroy=function(){r(),G.data(Me,null),G=null},this.option=function(e,t){if("object"==_typeof(e))h=le.extend(h,e);else if(void 0!==h[e]){if(void 0===t)return h[e];h[e]=t}else{if(!e)return h;le.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var ce="left",se="right",ue="up",de="down",pe="in",fe="out",ve="none",he="auto",ge="swipe",me="pinch",we="tap",ye="doubletap",Te="longtap",_e="horizontal",be="vertical",Ee="all",xe=10,Le="start",Se="move",ke="end",$e="cancel",De="ontouchstart"in window,Oe=window.navigator.msPointerEnabled&&!window.PointerEvent&&!De,Ce=(window.PointerEvent||window.navigator.msPointerEnabled)&&!De,Me="TouchSwipe";le.fn.swipe=function(e){var t=le(this),n=t.data(Me);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));le.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==_typeof(e))n.option.apply(n,arguments);else if(!(n||"object"!=_typeof(e)&&e))return function(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=ve),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n=n||{},n=le.extend({},le.fn.swipe.defaults,n),this.each(function(){var e=le(this),t=e.data(Me);t||(t=new a(this,n),e.data(Me,t))})}.apply(this,arguments);return t},le.fn.swipe.version="1.6.18",le.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},le.fn.swipe.phases={PHASE_START:Le,PHASE_MOVE:Se,PHASE_END:ke,PHASE_CANCEL:$e},le.fn.swipe.directions={LEFT:ce,RIGHT:se,UP:ue,DOWN:de,IN:pe,OUT:fe},le.fn.swipe.pageScroll={NONE:ve,HORIZONTAL:_e,VERTICAL:be,AUTO:he},le.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Ee}});